<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Designated Area Zoom</title>
    <style>
        #image {
            width: 1600px;
            height: auto;
            position: relative;
            display: block;
        }
        .zoomable {
            position: absolute;
            border: 2px dashed;
            cursor: crosshair;
        }
        #NoseCone {
            top: 50px;
            left: 850px;
            width: 80px;
            height: 180px;
            border-color: #ff0000;
        }
        #SepRec {
            top: 230px;
            left: 850px;
            width: 80px;
            height: 50px;
            border-color: #ff7700;
        }
        #AvBay {
            top: 280px;
            left: 850px;
            width: 80px;
            height: 100px;
            border-color: #ffea00
        }
        #zoomedInViewContainer {
            position: fixed;
            top: 80px;
            left: 20px;
            display: none;
            flex-direction: column;
            background-color: white;
            padding: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        #zoomedInView {
            width: 500px;
            height: 650px;
            background-size: auto;
            background-repeat: no-repeat;
        }
        #zoomText {
            margin-top: 10px;
            font-size: 14px;
            width: 450px;
            height: auto;
            background-color: white;
            padding: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body>
    <div style="position: relative;">
        <img id="image" src="https://imgur.com/kswKEpC.jpg" alt="Zoomable Image">
        <div id="NoseCone" class="zoomable"></div>
        <div id="SepRec" class="zoomable"></div>
        <div id="AvBay" class="zoomable"></div>
    </div>
    <div id="zoomedInViewContainer">
        <div id="zoomedInView"></div>
        <div id="zoomText">The Nose Cone is composed of fiberglass and a steel tip.</div>
    </div>

    <script>
        const image = document.getElementById('image');
        const zoomedInViewContainer = document.getElementById('zoomedInViewContainer');
        const zoomedInView = document.getElementById('zoomedInView');
        const zoomText = document.getElementById('zoomText');

        const avBayImageUrl = 'https://imgur.com/dkUN9Lp.jpg';

        const zoomAreas = [
            { id: 'NoseCone', top: 50, left: 850, width: 80, height: 200, text: 'The Nose Cone is composed of fiberglass and a steel tip.' },
            { id: 'SepRec', top: 250, left: 850, width: 80, height: 80, text: 'Separation and recovery system uses the dual deployment method of a drogue shoot released at apogee and a main chute released short after.' },
            { id: 'AvBay', top: 280, left: 850, width: 80, height: 100, text: 'The Avionics Bay houses the Daedulus flight computer and GPS. It can be easily opened to debug any electric issues.', isAvBay: true}
        ];

        const scale = 3;

        zoomAreas.forEach(area => {
            const element = document.getElementById(area.id);
            element.addEventListener('click', function(event) {
                if (area.isAvBay) {
                    zoomedInView.style.backgroundImage = `url(${avBayImageUrl})`;
                    zoomedInView.style.backgroundSize = 'contain';
                    zoomedInView.style.backgroundPosition = 'center';
                } else {
                    zoomedInView.style.backgroundImage = `url(${image.src})`;
                    zoomedInView.style.backgroundSize = `${image.width * scale}px auto`;

                    const offsetX = area.left * scale;
                    const offsetY = area.top * scale;
                    zoomedInView.style.backgroundPosition = `-${offsetX}px -${offsetY}px`;
                }
                zoomText.textContent = area.text;
                zoomedInViewContainer.style.display = 'flex';
            });
        });

        document.addEventListener('click', function(event) {
            if (![...zoomAreas.map(area => document.getElementById(area.id)), zoomedInViewContainer].some(el => el.contains(event.target))) {
                zoomedInViewContainer.style.display = 'none';
            }
        });
    </script>
</body>
</html>
